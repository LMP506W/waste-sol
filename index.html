<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOTHING™ | GALACTIC ASCENT</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        body, html { margin: 0; padding: 0; background: #000; color: #fff; font-family: 'Courier New', monospace; overflow-x: hidden; }
        canvas { position: fixed; top: 0; left: 0; outline: none; z-index: 1; }

        /* UI OVERLAY */
        .ui-container {
            position: relative; z-index: 10; pointer-events: none;
        }

        section { height: 300vh; position: relative; }

        .mission-control {
            position: fixed; bottom: 40px; left: 40px;
            width: 280px; padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            font-size: 10px; letter-spacing: 1px;
            text-transform: uppercase;
        }

        .terminal-box {
            position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            text-align: center; pointer-events: all;
            opacity: 0; /* Erscheint erst später beim Scrollen */
        }

        .void-btn {
            background: #eee; color: #000; border: none;
            padding: 15px 40px; border-radius: 10px;
            cursor: pointer; font-weight: bold; margin-top: 20px;
            transition: 0.3s;
        }
        .void-btn:hover { background: #fff; transform: scale(1.05); box-shadow: 0 0 30px #fff; }

        .status-bar { height: 2px; background: rgba(255,255,255,0.1); margin: 10px 0; overflow: hidden; }
        .status-fill { height: 100%; background: #fff; width: 35%; transition: 1s; }

    </style>
</head>
<body>

    <canvas id="bg"></canvas>

    <div class="ui-container">
        <section id="ground">
            <div style="position: absolute; top: 20%; width: 100%; text-align: center;">
                <h1 style="font-size: 8vw; font-weight: 100; letter-spacing: 3vw; opacity: 0.5;">NOTHING</h1>
            </div>
        </section>

        <div class="terminal-box" id="terminal">
            <div style="border: 1px solid rgba(255,255,255,0.2); padding: 30px; border-radius: 15px;">
                <p style="font-size: 12px; margin-bottom: 5px;">SACRIFICE TERMINAL v4.0</p>
                <input type="text" placeholder="Amount SOL..." style="background: none; border: 1px solid #333; color: #fff; padding: 10px; text-align: center;">
                <br>
                <button class="void-btn">INITIATE SACRIFICE</button>
            </div>
        </div>

        <div class="mission-control">
            <div style="opacity: 0.5;">Mission Control</div>
            <div style="font-size: 14px; margin-top: 10px;">Fuel Status</div>
            <div class="status-bar"><div class="status-fill"></div></div>
            <div style="display: flex; justify-content: space-between;">
                <span>Total: 35.7</span>
                <span>Goal: 50.0</span>
            </div>
            <div style="margin-top: 20px; opacity: 0.5;">Void Velocity</div>
            <div id="velocity" style="font-size: 16px;">0,0c</div>
        </div>
    </div>

    <script>
        // --- THREE.JS ENGINE ---
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: document.querySelector('#bg'), antialias: true });
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth, window.innerHeight);

        // Boden (Wüste)
        const groundGeo = new THREE.PlaneGeometry(100, 100, 50, 50);
        const groundMat = new THREE.MeshStandardMaterial({ color: 0x111111, wireframe: true });
        const ground = new THREE.Mesh(groundGeo, groundMat);
        ground.rotation.x = -Math.PI / 2;
        scene.add(ground);

        // Licht
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        const pointLight = new THREE.PointLight(0xffffff, 1);
        pointLight.position.set(5, 5, 5);
        scene.add(ambientLight, pointLight);

        // Galaxien (Partikel-Cluster)
        function createGalaxy(posZ) {
            const geo = new THREE.BufferGeometry();
            const count = 2000;
            const pos = new Float32Array(count * 3);
            for(let i=0; i<count*3; i++) { pos[i] = (Math.random() - 0.5) * 50; }
            geo.setAttribute('position', new THREE.BufferAttribute(pos, 3));
            const mat = new THREE.PointsMaterial({ size: 0.05, color: 0xffffff });
            const points = new THREE.Points(geo, mat);
            points.position.z = posZ;
            scene.add(points);
            return points;
        }

        const galaxies = [createGalaxy(-20), createGalaxy(-60), createGalaxy(-100)];

        // Rakete (Minimalistischer Kegel als Platzhalter für V40)
        const rocketGeo = new THREE.ConeGeometry(0.5, 2, 8);
        const rocketMat = new THREE.MeshStandardMaterial({ color: 0xffffff, wireframe: true });
        const rocket = new THREE.Mesh(rocketGeo, rocketMat);
        rocket.position.y = 10; // Startet über dem Boden
        scene.add(rocket);

        camera.position.set(0, 2, 10);

        // --- GSAP SCROLL ANIMATION ---
        gsap.registerPlugin(ScrollTrigger);

        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: "body",
                start: "top top",
                end: "bottom bottom",
                scrub: 2
            }
        });

        // Die Reise: Kamera hebt ab und fliegt durch das All
        tl.to(camera.position, { y: 50, z: -150, ease: "none" })
          .to(ground.position, { y: -20, opacity: 0 }, 0)
          .to("#terminal", { opacity: 1, y: -20 }, 0.5); // Terminal erscheint im All

        // Velocity Anzeige Update
        ScrollTrigger.create({
            onUpdate: (self) => {
                const vel = (self.getVelocity() / 100).toFixed(1);
                document.getElementById('velocity').innerText = vel + "c";
                rocket.rotation.z = self.getVelocity() / 5000; // Rakete wackelt beim Scrollen
            }
        });

        function animate() {
            requestAnimationFrame(animate);
            galaxies.forEach(g => g.rotation.y += 0.001);
            renderer.render(scene, camera);
        }

        animate();

        // Resize Fix
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
